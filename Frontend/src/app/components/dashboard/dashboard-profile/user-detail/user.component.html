<!-- HEADER -->
<app-header-dashboard></app-header-dashboard>

<div class="detail-wrapper" *ngIf="user">
  <h2>Detalle de Usuario</h2>

  <!-- FORMULARIO EN DOS COLUMNAS -->
  <form (ngSubmit)="saveChanges()">
    <div class="grid-2">
      <div class="form-field">
        <label>Nombre</label>
        <input type="text" class="form-control" [(ngModel)]="user.first_name" name="first_name" [disabled]="!isEditing" />
      </div>

      <div class="form-field">
        <label>Apellido</label>
        <input type="text" class="form-control" [(ngModel)]="user.last_name" name="last_name" [disabled]="!isEditing" />
      </div>

      <div class="form-field">
        <label>Email</label>
        <input type="email" class="form-control" [(ngModel)]="user.email" name="email" [disabled]="!isEditing" />
      </div>

      <div class="form-field">
        <label>Rol</label>
        <input type="text" class="form-control" [(ngModel)]="user.role" name="role" [disabled]="!isEditing" />
      </div>

      <div class="form-field">
        <label>Institución</label>
        <input type="text" class="form-control" [(ngModel)]="user.institution_name" name="institution" [disabled]="true" />
      </div>

      <div class="form-field">
        <label>Registrado</label>
        <input type="text" class="form-control" [value]="user.created_at | date: 'short'" disabled />
      </div>
    </div>

    <div class="form-field form-field--full">
      <label>Biografía</label>
      <textarea class="form-control" [(ngModel)]="user.bio" name="bio" [disabled]="!isEditing"></textarea>
    </div>

    <!-- BOTONES -->
    <div class="form-actions">
      <button type="button" class="btn-secondary" (click)="goBack()">Volver</button>
      <button type="button" class="btn-secondary" *ngIf="!isEditing" (click)="toggleEdit()">Editar</button>
      <button type="submit" class="btn-primary" *ngIf="isEditing">Guardar</button>
      <button type="button" class="btn-danger" (click)="deleteUser()">Eliminar</button>
    </div>
  </form>
</div>

<!-- FOOTER -->
<app-footer></app-footer>
